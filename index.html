<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Age Calculator</title>
  <link rel="stylesheet" href="style.css" >
</head>
<body>
  <audio autoplay hidden loop>
    <source src="https://www.boomplay.com/songs/133987555" type="audio/mpeg">
  </audio>
  <div class="container">
   <div class="calculator">
     <h1>Age<br/> <span>Calculator</span></h1>
      <div class="input-box">
        <input type="date" id="date" name="date" max="">
        <button
        onclick="calculateAge()"
        >Calculate</button>
      </div>
      <div>
        <p id="result"></p>
      </div>
   </div>
       
  </div>
  <script>
    let userInput = document.getElementById('date');
    userInput.max = new Date().toISOString().split("T")[0];
    let result = document.getElementById("result")

    function calculateAge(){
        let birthDate = new Date(userInput.value);

        let dob1 = birthDate.getDate();
        let mob1 = birthDate.getMonth() + 1;
        let yob1 = birthDate.getFullYear();

        let today = new Date();
       
        let dob2 = today.getDate();
        let mob2 = today.getMonth() + 1;
        let yob2 = today.getFullYear();

        let dob3, mob3, yob3;

        yob3 = yob2 - yob1;

        if (mob2 >= mob1){
          mob3 = mob2 - mob1;
        }else{
           yob3--;
           mob3 = 12 + mob2 - mob1;
        }
        
        if(dob2 >= dob1){
          dob3 = dob2 - dob1;
        }else{
          mob3--;
          dob3 = getDaysInMonth(yob1, mob1) + dob2 - dob1;
        }
        if(mob3 < 0){
          mob3 = 11;
          yob3--;
        }
        result.innerHTML = `You are <span>${yob3}</span> years,<span> ${mob3}</span> months and <span>${dob3}</span> days old`;
    }

    function getDaysInMonth(year, month){
      return new Date(year, month, 0).getDate();
    }
  </script>
</body>
</html>